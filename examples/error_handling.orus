// Error handling example

fn safe_divide(a: f64, b: f64) -> f64 {
    if b == 0.0 {
        throw "Division by zero error";
    }
    return a / b;
}

fn calculate_average(numbers: [f64]) -> f64 {
    if len(numbers) == 0 {
        throw "Cannot calculate average of empty array";
    }
    
    var sum: f64 = 0.0;
    for num in numbers {
        sum += num;
    }
    
    return safe_divide(sum, len(numbers) as f64);
}

// Test error handling
let test_arrays = [
    [1.0, 2.0, 3.0, 4.0, 5.0],
    [],
    [10.0, 20.0, 30.0]
];

for arr in test_arrays {
    try {
        let avg = calculate_average(arr);
        print("Average: " + avg);
    } catch error {
        print("Error: " + error);
    }
}

// Test nested loops with guards
print("=== NESTED LOOP TESTS ===")

print("Test 1: Nested loops, both under 100K")
mut sum1 = 0
for outer1 in 0..200:
    for inner1 in 0..200:
        sum1 = sum1 + outer1 + inner1
print("Nested under 100K result:", sum1)

print("Test 2: Outer loop > 100K, inner loop small")
mut sum2 = 0
for outer2 in 0..200000:  // 200K iterations, should trigger guards
    for inner2 in 0..2:     // Only 2 iterations each
        sum2 = sum2 + outer2 + inner2
print("Outer large result:", sum2)

print("Test 3: Inner loop > 100K, outer loop small")
mut sum3 = 0
for outer3 in 0..5:         // Only 5 iterations
    for inner3 in 0..200000: // 200K iterations each, should trigger guards
        sum3 = sum3 + outer3 + inner3
print("Inner large result:", sum3)

print("Test 4: Both loops > 100K (total > 1M, should warn)")
mut sum4 = 0
for outer4 in 0..1500:      // 1500 * 700 = 1.05M total iterations
    for inner4 in 0..700:
        sum4 = sum4 + outer4 + inner4
print("Both large result:", sum4)

print("All nested loop tests completed!")